@import "tailwindcss";
@import "tw-animate-css";

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-destructive-foreground: var(--destructive-foreground);
}

:root {
  --background: oklch(0 0 0);
  --foreground: oklch(1 0 0);
  --card: oklch(0.1 0 0 / 0.1);
  --card-foreground: oklch(1 0 0);
  --popover: oklch(0 0 0 / 0.8);
  --popover-foreground: oklch(1 0 0);
  --primary: oklch(1 0 0);
  --primary-foreground: oklch(0 0 0);
  --secondary: oklch(0.65 0.25 25);
  --secondary-foreground: oklch(1 0 0);
  --muted: oklch(1 0 0 / 0.5);
  --muted-foreground: oklch(0.7 0 0);
  --accent: oklch(0.65 0.25 25);
  --accent-foreground: oklch(1 0 0);
  --destructive: oklch(0.6 0.25 15);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(1 0 0 / 0.2);
  --input: oklch(1 0 0 / 0.1);
  --ring: oklch(1 0 0 / 0.3);
  --radius: 0.5rem;
}

.dark {
  --background: oklch(0 0 0);
  --foreground: oklch(1 0 0);
}

html { scroll-behavior: smooth; }

body {
  background: #000;
  color: #fff;
  font-family: var(--font-geist-sans), system-ui, sans-serif;
  overflow-x: hidden;
}

/* ═══ ANIMATIONS ═══ */
@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  30% { transform: translate(7%, -25%); }
  50% { transform: translate(-15%, 10%); }
  70% { transform: translate(0%, 15%); }
  90% { transform: translate(-10%, 10%); }
}

@keyframes line-scan {
  0% { top: -2px; }
  100% { top: 100%; }
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@keyframes terminal-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

@keyframes framework-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255,255,255,0.05); }
  50% { box-shadow: 0 0 20px 4px rgba(255,255,255,0.03); }
}

/* ═══ FILM GRAIN ═══ */
.grain-overlay::after {
  content: "";
  position: fixed;
  inset: -50%;
  width: 200%;
  height: 200%;
  background: transparent url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E") repeat;
  opacity: 0.025;
  pointer-events: none;
  z-index: 9999;
  animation: grain 8s steps(10) infinite;
}

/* ═══ SCANLINE ═══ */
.scanline::before {
  content: "";
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: rgba(255,255,255,0.02);
  z-index: 9998;
  pointer-events: none;
  animation: line-scan 8s linear infinite;
}

/* ═══ SCROLLBAR ═══ */
::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-track { background: #000; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.12); border-radius: 2px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.25); }

/* ═══ PATTERNS ═══ */
.grid-bg {
  background-image:
    linear-gradient(rgba(255,255,255,0.025) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.025) 1px, transparent 1px);
  background-size: 60px 60px;
}

.glitch-hover:hover {
  text-shadow: 2px 0 #ff5722, -2px 0 #00bcd4;
  transition: text-shadow 0.1s;
}

.border-gradient {
  border: 1px solid transparent;
  background-origin: border-box;
  background-clip: padding-box, border-box;
  background-image:
    linear-gradient(#000, #000),
    linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.015));
}

.border-gradient-hover:hover {
  background-image:
    linear-gradient(#000, #000),
    linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.04));
}

/* ═══ CURSOR GLOW ═══ */
.cursor-glow {
  position: fixed;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,87,34,0.04), transparent 70%);
  pointer-events: none;
  z-index: 9990;
  transform: translate(-50%, -50%);
}

/* ═══ MARQUEE ═══ */
.marquee-track {
  display: flex;
  animation: marquee 40s linear infinite;
  width: max-content;
}

.marquee-track:hover {
  animation-play-state: paused;
}

/* ═══ TERMINAL OVERLAY ═══ */
.terminal-overlay {
  backdrop-filter: blur(20px) saturate(0.8);
  -webkit-backdrop-filter: blur(20px) saturate(0.8);
}

.terminal-cursor {
  animation: terminal-blink 1s step-end infinite;
}

/* ═══ FRAMEWORK NODE ═══ */
.framework-node {
  animation: framework-pulse 4s ease-in-out infinite;
}

.framework-node:nth-child(2) { animation-delay: 1s; }
.framework-node:nth-child(3) { animation-delay: 2s; }
.framework-node:nth-child(4) { animation-delay: 3s; }

/* ═══ ORACLE CHAT ═══ */
.oracle-scroll::-webkit-scrollbar { width: 2px; }
.oracle-scroll::-webkit-scrollbar-track { background: transparent; }
.oracle-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.06); border-radius: 1px; }
.oracle-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.12); }

/* ═══ SUBMUNDO DASHBOARD ═══ */
.submundo-scroll::-webkit-scrollbar { width: 2px; }
.submundo-scroll::-webkit-scrollbar-track { background: transparent; }
.submundo-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.06); border-radius: 1px; }
.submundo-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.12); }

/* ═══ SELECTION ═══ */
::selection {
  background: rgba(255,87,34,0.3);
  color: #fff;
}

/* ═══ MOBILE OPTIMIZATIONS ═══ */
@media (max-width: 768px) {
  .grid-bg {
    background-size: 40px 40px;
  }

  .grain-overlay::after {
    opacity: 0.015;
  }

  .scanline::before {
    display: none;
  }

  .cursor-glow {
    display: none !important;
  }
}

/* ═══ MOBILE BOTTOM NAV ═══ */
.mobile-nav {
  -webkit-backdrop-filter: blur(20px) saturate(1.2);
  backdrop-filter: blur(20px) saturate(1.2);
  background: rgba(0,0,0,0.85);
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.mobile-nav-item {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* ═══ ORACLE MOBILE FULLSCREEN ═══ */
@media (max-width: 640px) {
  .oracle-panel-mobile {
    width: 100% !important;
    height: 100% !important;
    max-width: 100% !important;
    max-height: 100% !important;
    border-radius: 0 !important;
    border: none !important;
  }
}

/* ═══ TOUCH TARGETS ═══ */
@media (pointer: coarse) {
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ═══ SAFE AREA PADDING ═══ */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
